<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>XMPP WebRTC DEMO sample</title>
	
	<link rel="stylesheet" href="main.css" />
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head>

<body>
	<div id="wrap">
	
	    <!-- Login with User1, User2 block-->
		<div id="auth">			
			<div class="main-wrap">
				<div class="logo"><img src="images/logo.png" alt="QuickBlox logo" /></div>
				<div class="welcome">Welcome to<br />QuickBlox WebRTC DEMO sample</div>
				
				<div id="buttons">
					<p><button onclick="authQB(1)">Sign in with Bob</button></p>
					<p><button onclick="authQB(2)">Sign in with Sam</button></p>
				</div>
			</div>
			
			<div class="powered">Powered by <a href="http://quickblox.com">QuickBlox</a></div>
		</div>
		
		
		<!-- Connecting... block-->
		<div id="connecting">
			<p>Connecting. Please wait...</p>
			<p><img src="images/connecting.gif" alt="connecting" /></p>
		</div>
		
		
		<!-- VideoChat block-->
		<div id="webrtc">
		
			<div>
				<!-- local video container -->
				<div id="localVideoContainer" style="display:none;">
					<video id="localVideo" autoplay"></video>
					<p id="currentUserName"></p>
				</div>
			
				<!-- remote video container -->
				<div id="remoteVideoContainer" style="display:none;">
					<video id="remoteVideo" autoplay"></video>
					<p id="opponentUserName"></p>
				</div>
				
				<!-- call user -->
                <button id="callToUserButton" onclick="callToUser()" style="display:none;"></button>
            </div>

            <!-- incoming call alert -->
            <audio id="incomingCallAudio" src="./ring.mp3"></audio>

            <!-- accept/reject buttons -->
			<div id="incomingCallControls" style="display:none;">
				<button id="acceptCallButton" onclick="acceptCall()">Accept call</button>
				<button id="rejectCallButton" onclick="rejectCall()">Reject call</button>
			</div>

            <!-- hung up button -->
			<div id="hangUpCallControls" style="display:none;">
				<button id="hangUp">End call</button>
			</div>
			
			<!-- video chat connecting control -->
			<div id="videoChatConnectingControls" style="display:none;">
				<img src="http://www.avazun.ru/img/upload_progress.gif" alt="video chat connecting">
			</div>
			
		</div>
	</div>
	
	<script src="js/quickblox.js"></script>
	<script src="js/strophe.js"></script>
	<script src='js/adapter.js'></script>
	<script src="qb_signalling.js"></script>
	<script src="qb_webrtc.js"></script>
    <script src="main.js"></script>
</body>
</html>